<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-faq/faq" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">FAQ | RaspiBlitz</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.raspiblitz.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.raspiblitz.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.raspiblitz.org/docs/faq"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="FAQ | RaspiBlitz"><meta data-rh="true" name="description" content="Upgrade"><meta data-rh="true" property="og:description" content="Upgrade"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.raspiblitz.org/docs/faq"><link data-rh="true" rel="alternate" href="https://docs.raspiblitz.org/docs/faq" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.raspiblitz.org/docs/faq" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H1OPUQUC79-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="RaspiBlitz" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.eeadf0d8.css">
<script src="/assets/js/runtime~main.ae52724c.js" defer="defer"></script>
<script src="/assets/js/main.855ee23d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/RaspiBlitz_Logo_Main_Negative.svg" alt="RaspiBlitz logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/RaspiBlitz_Logo_Main_Negative.svg" alt="RaspiBlitz logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/raspiblitz/raspiblitz" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://docs.raspiblitz.org/docs/setup/software-setup/download" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Download<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/security">Security Policy</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/raspiblitz-setup">RaspiBlitz Setup</a><button aria-label="Expand sidebar category &#x27;RaspiBlitz Setup&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/raspiblitz-usage">RaspiBlitz Usage</a><button aria-label="Expand sidebar category &#x27;RaspiBlitz Usage&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/community-resources">Community Resources</a><button aria-label="Expand sidebar category &#x27;Community Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/faqs">FAQ&#x27;s</a><button aria-label="Collapse sidebar category &#x27;FAQ&#x27;s&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faq/cl">Core Lightning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faq/contribute">contribute</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/faq/dev">dev</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/faq">FAQ</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/faqs"><span itemprop="name">FAQ&#x27;s</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">FAQ</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>FAQ</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade">Upgrade<a href="#upgrade" class="hash-link" aria-label="Direct link to Upgrade" title="Direct link to Upgrade">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-verify-the-sd-card-image-after-download">How to verify the SD card image after download?<a href="#how-to-verify-the-sd-card-image-after-download" class="hash-link" aria-label="Direct link to How to verify the SD card image after download?" title="Direct link to How to verify the SD card image after download?">​</a></h3>
<p>There are two methods, verify the hash (proves integrity) or the signature (proves integrity and authenticity)</p>
<p>You can do a quick check to verify that the sha256 hash of the file you downloaded is the same as the sha256 hash mentioned below the download link, or use the torrent download which will also check the file for a checksum after download.</p>
<p>To verify the shasum:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">shasum -a 256 [DOWNLOADED-FILE-TO-CHECK]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>But verifying the shasum does not prove to you that the SD card image was actually built by the lead developer of the RaspiBlitz project.</p>
<p>To verify that the download was actually signed by rootzoll (FINGERPRINT: 92A746AE33A3C186D014BF5C1C73060C7C176461) you need to use GPG and import the following public key:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">curl --tlsv1.2 --proto &#x27;=https&#x27; https://keys.openpgp.org/vks/v1/by-fingerprint/92A746AE33A3C186D014BF5C1C73060C7C176461 | gpg --import</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Next, download the &quot;signature file&quot; for the SD card image. It&#x27;s the same download link as for the image file - just added a <code>.sig</code> at the end. You should also always find the download link for the signature file in the README right next to the image download link.</p>
<p>If you now have all the three elements needed - the imported public key, the image signature and the image file itself - you can verify the download with:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">gpg --verify [SIGNATURE-FILE] [IMAGE-FILE]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As a result you should see a &quot;good signature&quot; message with a main fingerprint that is ending on <code>1C73 060C 7C17 6461</code>. You should also see the sub-key fingerprint ending on <code>AA9D D1B5 CC56 47DA</code>, that is used at the moment to sign the sd card image. If those fingerprints shown correctly, the SD card image you downloaded is an original RaspiBlitz release.</p>
<p><em>You can ignore any warning about the key being &#x27;not a trusted signature&#x27; or untrusted .. as long you see &quot;good signature&quot; and the correct main &amp; sub fingerprints the download is valid.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-changed-on-every-upgrade">What changed on every upgrade?<a href="#what-changed-on-every-upgrade" class="hash-link" aria-label="Direct link to What changed on every upgrade?" title="Direct link to What changed on every upgrade?">​</a></h3>
<p>See the <a href="https://github.com/fusion44/raspiblitz/blob/95c495ea0195765d3391eb9603e6cdeb24075c2c/CHANGES.md" target="_blank" rel="noopener noreferrer">CHANGES.md</a> file for details.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-upgrade-my-raspiblitz">How do I upgrade my RaspiBlitz?<a href="#how-do-i-upgrade-my-raspiblitz" class="hash-link" aria-label="Direct link to How do I upgrade my RaspiBlitz?" title="Direct link to How do I upgrade my RaspiBlitz?">​</a></h3>
<p>The upgrade should be quite simple - you don&#x27;t need to close any channels:</p>
<ul>
<li>It would be best to get a second 16GB or 32GB SD card - but you can also reuse your old one</li>
<li>In the SSH main menu of you RaspiBlitz choose <code>UPDATE</code> &amp; follow the dialogs until shutdown</li>
<li>Download the new RaspiBlitz image file from the <a href="https://github.com/raspiblitz/raspiblitz/blob/dev/README.md#installing-the-software" target="_blank" rel="noopener noreferrer">GitHub README</a></li>
<li>Write the new image to the (new) SD card with a tool like <a href="https://www.balena.io/etcher/" target="_blank" rel="noopener noreferrer">balena etcher</a></li>
<li>RaspiBlitz with new SD card image - it now goes through a recover/update phase - this may take some time.</li>
<li>Once that&#x27;s done, login once via SSH and use the password raspiblitz and set a new password A (can be your old one or a new one).</li>
</ul>
<p>After the final reboot your RaspiBlitz should be ready, running the new RaspiBlitz version.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-do-i-need-to-re-burn-my-sd-card-for-an-update">Why do I need to re-burn my SD card for an update?<a href="#why-do-i-need-to-re-burn-my-sd-card-for-an-update" class="hash-link" aria-label="Direct link to Why do I need to re-burn my SD card for an update?" title="Direct link to Why do I need to re-burn my SD card for an update?">​</a></h3>
<p>I know it would be nicer to run just an update script and be ready to go. But then the scripts would need to be written in a much more complex way to be able to work with any versions of LND and Bitcoind (they are already complex enough with all the edge cases) and testing would become even more time consuming than it is now. That&#x27;s not something that a single developer can deliver.</p>
<p>For some, it might be a pain point to make an update by re-burning a new SD card - especially if you added your own scripts or made changes to the system - but that&#x27;s by design. It&#x27;s a way to enforce a &quot;clean state&quot; with every update - the same state that I tested and developed the scripts with. The reason for that pain: I simply cannot write and support scripts that run on every modified system forever - that&#x27;s simply too much work.</p>
<p>With the SD card update mechanism I reduce complexity, I deliver a &quot;clean state&quot; OS, LND/Bitcoind and the scripts tightly bundled together exactly in the dependency/combination like I tested them and it&#x27;s much easier to reproduce bug reports and give support that way.</p>
<p>Of course, people should modify the system, add own scripts, etc ... but if you want to also have the benefit of the updates of the RaspiBlitz, you have two ways to do it:</p>
<ol>
<li>
<p>Contribute your changes back to the main project as pull requests so that they become part of the next update - the next SD card release.</p>
</li>
<li>
<p>Make your changes so that they survive an SD card update easily - put all your scripts and extra data onto the HDD, AND document for yourself how to activate them again after an update. The file <code>/mnt/hdd/app-data/custom-installs.sh</code> runs with sudo rights after an update/recovery from a fresh SD card. This is the place to put all the install commands, cronjobs or editing of system configs for your personal modifications of RaspiBlitz.</p>
</li>
</ol>
<p><em>BTW there is a beneficial side effect when updating with a new SD card: You also get rid of any malware or system bloat that happened in the past. You start with a fresh system :)</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-update-lnd-or-bitcoind-even-before-the-next-raspiblitz-update">How can I update LND or Bitcoind even before the next RaspiBlitz update?<a href="#how-can-i-update-lnd-or-bitcoind-even-before-the-next-raspiblitz-update" class="hash-link" aria-label="Direct link to How can I update LND or Bitcoind even before the next RaspiBlitz update?" title="Direct link to How can I update LND or Bitcoind even before the next RaspiBlitz update?">​</a></h3>
<p>Try updating before a official RaspiBlitz at your own risk - you can find some info about that here:
<a href="https://raspibolt.org/bonus/raspberry-pi/odroid-setup.html#bitcoin-core-upgrade" target="_blank" rel="noopener noreferrer">https://raspibolt.org/bonus/raspberry-pi/odroid-setup.html#bitcoin-core-upgrade</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ssh">SSH<a href="#ssh" class="hash-link" aria-label="Direct link to SSH" title="Direct link to SSH">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-to-do-when-on-ssh-i-see-warning-remote-host-identification-has-changed">What to do when on SSH I see &quot;WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&quot;<a href="#what-to-do-when-on-ssh-i-see-warning-remote-host-identification-has-changed" class="hash-link" aria-label="Direct link to What to do when on SSH I see &quot;WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&quot;" title="Direct link to What to do when on SSH I see &quot;WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&quot;">​</a></h3>
<p>This means that he public SSH key of the RaspiBlitz has changed to the one you logged in with the last time under that IP.</p>
<p>It&#x27;s OK when happening during an update - when you changed the SD card image. If it&#x27;s really happening out of the blue - check your local network setup for a problem. Maybe the local IP of your RaspiBlitz changed? Is there a second RaspiBlitz connected? It&#x27;s a security warning, so at least take some time to check if anything is strange. But also don&#x27;t immediately panic - when it&#x27;s in your local network, normally it&#x27;s some network thing - not an intruder.</p>
<p>To fix this and to be able to login with SSH again, you have to remove the old public key for that IP from your local client computer. Just run the following command (with the replaced IP of your RaspiBlitz): <code>ssh-keygen -R IP-OF-YOUR-RASPIBLITZ</code> or remove the line for this IP manually from the known_hosts file (see the path to the file in the warning message).</p>
<p>After that, you should be able to login with SSH again.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-unplugshutdown-safely-without-ssh">How do I unplug/shutdown safely without SSH<a href="#how-do-i-unplugshutdown-safely-without-ssh" class="hash-link" aria-label="Direct link to How do I unplug/shutdown safely without SSH" title="Direct link to How do I unplug/shutdown safely without SSH">​</a></h3>
<p>Just removing power from the RaspiBlitz can lead to data corruption if the HDD is right in the middle of a writing process. The safest way is always to SSH into the RaspiBlitz and use the &quot;POWER OFF&quot; option in the main menu.</p>
<p>But if cannot login with SSH and you need to power off at least remove the LAN cable (network connection)first for sometime (around 10-30 secs - until you can see no more blinking lights on the HDD) and then remove the power cable. This should minimize the risk if data corruption in this situations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="i-cannot-connect-via-ssh-to-my-raspiblitz-what-do-i-do">I cannot connect via SSH to my RaspiBlitz. What do I do?<a href="#i-cannot-connect-via-ssh-to-my-raspiblitz-what-do-i-do" class="hash-link" aria-label="Direct link to I cannot connect via SSH to my RaspiBlitz. What do I do?" title="Direct link to I cannot connect via SSH to my RaspiBlitz. What do I do?">​</a></h3>
<ul>
<li>Check the command again with how it shows on the display - do you have it typed in correctly?</li>
<li>Replace <code>ssh</code> with <code>sudo ssh</code> and try it (laptop admin password might be required).</li>
</ul>
<p>If that doesn&#x27;t work, try to ping the IP of the RaspiBlitz with <code>ping [IP-of-RaspiBlitz]</code>. If you get no response on the ping requests and the device is not reachable, try this check list:</p>
<ul>
<li>Make sure that your RaspiBlitz and your laptop are really on the same local network</li>
<li>Check if you have a VPN running on your laptop - some VPNs block local network</li>
<li>Some Routers have <code>IP Isolation</code> switched on - not allowing two devices to connect</li>
</ul>
<p>If you&#x27;ve checked those and SSH is still not working: Join the conversation on <a href="https://github.com/raspiblitz/raspiblitz/issues/420" target="_blank" rel="noopener noreferrer">GitHub Issue #420</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-ssh-over-tor">How to SSH over Tor?<a href="#how-to-ssh-over-tor" class="hash-link" aria-label="Direct link to How to SSH over Tor?" title="Direct link to How to SSH over Tor?">​</a></h3>
<p>SSH is already encrypted, why would I want to use it with Tor?</p>
<ul>
<li>Remote access when away from LAN.</li>
<li>Anonymized access - Someone sniffing the traffic don&#x27;t know where the server you are establishing a connection is, not the server side knows where the client is.</li>
</ul>
<p>Create Hidden Service:
<code>bash /home/admin/config.scripts/tor.onion-service.sh ssh 22 22</code></p>
<p>SSH over Tor:
<code>torsocks ssh admin@HiddenServiceAddress.onion</code></p>
<p>Get the address:
<code>sudo cat /mnt/hdd/tor/ssh/hostname</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-setup-port-forwarding-with-a-ssh-tunnel">How to setup port-forwarding with a SSH tunnel?<a href="#how-to-setup-port-forwarding-with-a-ssh-tunnel" class="hash-link" aria-label="Direct link to How to setup port-forwarding with a SSH tunnel?" title="Direct link to How to setup port-forwarding with a SSH tunnel?">​</a></h3>
<p>To use a public server for port-forwarding thru a SSH tunnel you can use the following experimental script on the RaspiBlitz (since v1.2):</p>
<p><code>/home/admin/config.scripts/internet.sshtunnel.py</code></p>
<p>But first you need to make sure that the public server you are using is supporting SSH reverse-tunneling and authentication by public authorized key. Check the <code>/etc/ssh/sshd_config</code> on the public server. It should contain the following settings:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RSAAuthentication yes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PubkeyAuthentication yes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GatewayPorts yes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AllowTcpForwarding yes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ClientAliveInterval 60</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ClientAliveCountMax 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>Last two parameters were added as used in the ssh tunnel demo at #GPN19 <a href="https://media.ccc.de/v/gpn19-76-einen-server-daheim-ohne-ffentliche-ipv4-adresse#t=911" target="_blank" rel="noopener noreferrer">https://media.ccc.de/v/gpn19-76-einen-server-daheim-ohne-ffentliche-ipv4-adresse#t=911</a></em></p>
<p>You can add those at the end of the file, save and reboot.</p>
<p>On the RaspiBlitz you can then setup for example to forward the gRPC port 10009 (internal port) to the port 20009 on the public server (external port) with the user = <code>test</code> and server address = <code>raspiblitz.com</code> with the following command:</p>
<p><code>/home/admin/config.scripts/internet.sshtunnel.py on test@raspiblitz.com &quot;10009&lt;20009&quot;</code></p>
<p>You can even set multiple port forwardings like with:</p>
<p><code>/home/admin/config.scripts/internet.sshtunnel.py on test@raspiblitz.com &quot;10009&lt;20009&quot; &quot;8080&lt;9090&quot;</code></p>
<p>Please be aware that after you set such a port forwarding you will need to set the domain of the public server as a <code>DynamicDNS</code> name (leave update url empty) and then connect mobile wallets fresh, or export the macaroons/certs again. When connecting the mobile wallets you may need to adjust ports manually after QR code scan. And if you SSH tunnel the LND node port <code>9735</code> you may also need to set the custom LND port script and maybe also a manual set of the domain in the LND service would be needed. This all is very experimental at the moment ... better integration will come in the future.</p>
<p>To switch this SSH tunneling off again use:</p>
<p><code>/home/admin/config.scripts/internet.sshtunnel.py off</code> and also deactivate the DynamicDNS again.</p>
<p>To check if a tunnel is running on the tunneling server check: <code>netstat -tulpn</code></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-setup-just-a-port-forwarding-user-on-my-public-server">How do I setup just a port-forwarding user on my public server?<a href="#how-do-i-setup-just-a-port-forwarding-user-on-my-public-server" class="hash-link" aria-label="Direct link to How do I setup just a port-forwarding user on my public server?" title="Direct link to How do I setup just a port-forwarding user on my public server?">​</a></h3>
<p>Make sure the <code>/etc/ssh/sshd_config</code> has the following lines at the end:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">RSAAuthentication yes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">PubkeyAuthentication yes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">GatewayPorts yes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AllowTcpForwarding yes</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">AuthorizedKeysFile  /etc/ssh/authorized_keys/%u</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The last one stores all authorized_keys in one directory with a file per user. See <a href="https://serverfault.com/questions/313465/is-a-central-location-for-authorized-keys-a-good-idea#424659" target="_blank" rel="noopener noreferrer">https://serverfault.com/questions/313465/is-a-central-location-for-authorized-keys-a-good-idea#424659</a> To prepare this run:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mkdir /etc/ssh/authorized_keys</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">groupadd forwardings</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To add a forwarding user run:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">useradd -g forwardings -d /home [USERNAME]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo &#x27;command=&quot;date&quot; [CONTENT-OF-RASPIBLITZ-ROOT-SSH-PUBKEY]&#x27; &gt; /etc/ssh/authorized_keys/[USERNAME]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-reset-the-ssh-config-and-keys">How to reset the ssh config and keys?<a href="#how-to-reset-the-ssh-config-and-keys" class="hash-link" aria-label="Direct link to How to reset the ssh config and keys?" title="Direct link to How to reset the ssh config and keys?">​</a></h3>
<ul>
<li>shutdown the RaspiBlitz - if you dont have touchscreen activated, disconnect LAN cable, wait until HDD/SSD activity slows down (no constant blinking) and then cut the power</li>
<li>take out the SD card and connect it to your laptop - it should appear as a <code>boot</code> drive</li>
<li>in the root directory of that <code>boot</code> drive create a file called <code>ssh.reset</code></li>
<li>that file can be empty or just copy another file on that drive and rename it ()</li>
<li>eject the drive from your laptop safely</li>
<li>put SD card back into the RaspiBlitz (also make sure LAN cable is connected again)</li>
<li>power up - the RaspiBlitz should boot up &amp; reboot again</li>
<li>then try again to SSH login</li>
</ul>
<p>If you see a &quot;REMOTE HOST IDENTIFICATION HAS CHANGED!&quot; warning on login, that&#x27;s what we wanted - the SSH cert of your RaspiBlitz changed - thats good. We just need to remove the old one from our laptop first - on OSX you can use <code>rm ~/.ssh/known_hosts</code> (deletes all cached server certs) or remove the line with your RaspiBlitz IP manually from the <code>~/.ssh/known_hosts</code> file with a text editor.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="display">Display<a href="#display" class="hash-link" aria-label="Direct link to Display" title="Direct link to Display">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-flip-the-screen">Can I flip the screen?<a href="#can-i-flip-the-screen" class="hash-link" aria-label="Direct link to Can I flip the screen?" title="Direct link to Can I flip the screen?">​</a></h3>
<p>There is now an option under <code>SETTINGS</code> to rotate the screen.</p>
<p>To do it manually: For the default 3.5&quot; LCD you need to edit the /boot/config.txt. Run <code>sudo nano /boot/config.txt</code>
Look for the line <code>dtoverlay=tft35a:rotate=270</code> towards the end. To flip the screen with 180 degrees change the line to <code>dtoverlay=tft35a:rotate=90</code> and reboot with <code>sudo reboot</code>. Reference: <a href="https://github.com/goodtft/LCD-show/issues/34" target="_blank" rel="noopener noreferrer">https://github.com/goodtft/LCD-show/issues/34</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-fix-my-upside-down-lcd-after-update">How to fix my upside down LCD after update?<a href="#how-to-fix-my-upside-down-lcd-after-update" class="hash-link" aria-label="Direct link to How to fix my upside down LCD after update?" title="Direct link to How to fix my upside down LCD after update?">​</a></h3>
<p>Some displays have a different orientation. To fix this activate/deactivate the LCD-ROTATION option in the MAINMENU &gt; SERVICES and let it reboot. You might need to do this up to 3 times until your display works correctly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-run-the-raspiblitz-without-a-displaylcd">Can I run the RaspiBlitz without a display/LCD?<a href="#can-i-run-the-raspiblitz-without-a-displaylcd" class="hash-link" aria-label="Direct link to Can I run the RaspiBlitz without a display/LCD?" title="Direct link to Can I run the RaspiBlitz without a display/LCD?">​</a></h3>
<p>The display is one of the nice features of the RaspiBlitz but it can run without it. Maybe not all the add-on features can be used to the full extent, but you can get started without the LCD and if you wish, plug it on later.</p>
<p>If you want to use the HDMI output you can place a file called <code>hdmi</code> on the <code>boot</code> section of the RaspiBlitz sd card ... just connect the sd card to your laptop, create that file and then boot it up in the Raspberry Pi.</p>
<p>If you are already logged in you can use on the console the commands:</p>
<ul>
<li><code>hdmi</code> --&gt; switch to HDMI</li>
<li><code>lcd</code> --&gt; switch to LCD</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-find-the-ip-address-when-running-without-a-display">How do I find the IP address when running without a display?<a href="#how-do-i-find-the-ip-address-when-running-without-a-display" class="hash-link" aria-label="Direct link to How do I find the IP address when running without a display?" title="Direct link to How do I find the IP address when running without a display?">​</a></h3>
<p>If you can login into your local internet router it should show you the IP address assigned to the Raspberry Pi.</p>
<p>Another way is to use <a href="https://angryip.org/" target="_blank" rel="noopener noreferrer">Angry IP Scanner</a> to find the IP address.</p>
<p>You can also put an empty file just called <code>hdmi</code> (without any ending) onto the sd card when connected to your laptop and then start it up on the Raspberry Pi. This will activate the HDMI port and if you connect a HDMI monitor to the Raspberry Pi it will show you the RaspiBlitz status screen containing the local IP address.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="debug">Debug<a href="#debug" class="hash-link" aria-label="Direct link to Debug" title="Direct link to Debug">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-generate-a-debug-report">How do I generate a Debug Report?<a href="#how-do-i-generate-a-debug-report" class="hash-link" aria-label="Direct link to How do I generate a Debug Report?" title="Direct link to How do I generate a Debug Report?">​</a></h3>
<p>If your RaspiBlitz is not working correctly and you like to get help from the community, it&#x27;s good to provide more debug information, so others can better diagnose your problem.</p>
<p>When you use the WebUI in the browser than you can follow the steps:</p>
<ul>
<li>Login into the WebUI and enter the Dashboard (needs to be fully snyced)</li>
<li>In the left navigation bar - choose &quot;Settings&quot;</li>
<li>Under &quot;Generate Debug Report&quot; click &quot;Generate&quot;</li>
<li>This might take some minutes, but then a Text-File will be offered for download</li>
</ul>
<p>You can also get a debug report thru the SSH menus:</p>
<ul>
<li>SSH into your raspiblitz as admin user with your password A</li>
<li>If you see the menu - use CTRL+C to get to the terminal</li>
<li>To generate debug report run: <code>debug</code>, optionally create a link with <code>debug -l</code></li>
<li>Then copy all output beginning with <code>*** RASPIBLITZ LOGS ***</code> and share this</li>
</ul>
<p><em>PLEASE NOTICE: Most private information (like IPs, node IDs, ...) will filtered from debug logs, but this might not catch all sensitive information - so recheck content yourself before you share publicly.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="i-have-the-full-blockchain-on-another-storage-how-do-i-copy-it-to-the-raspiblitz">I have the full blockchain on another storage. How do I copy it to the RaspiBlitz?<a href="#i-have-the-full-blockchain-on-another-storage-how-do-i-copy-it-to-the-raspiblitz" class="hash-link" aria-label="Direct link to I have the full blockchain on another storage. How do I copy it to the RaspiBlitz?" title="Direct link to I have the full blockchain on another storage. How do I copy it to the RaspiBlitz?">​</a></h3>
<p>Copying a already synced blockchain from another storage (e.g. your Laptop or external hard drive) can be a quick way to get the RaspiBlitz started or replacing a corrupted blockchain with a fresh one. Also that way you have synced and verified the blockchain yourself, and are not trusting the RaspiBlitz Torrent downloads (Don&#x27;t trust, verify).</p>
<p>One requirement is that the blockchain is from another bitcoin-core client with version greater or equal to 0.17.1.</p>
<p>But we don&#x27;t copy the data via USB to the device, because the HDD needs to be formatted in EXT4 and that is usually not read/writable by Windows or Mac computers. So I will explain a way to copy the data through your local network. This should work from Windows, Mac, Linux and even from another already synced RaspiBlitz.</p>
<p>Both computers (your Raspberry Pi and the other computer with the full blockchain) need to be connected to the same local network. Make sure that Bitcoind/bitcoin-qt is stopped on the computer containing the blockchain.
If your blockchain source is another RaspiBlitz v1.5 or higher - go to <code>REPAIR</code> &gt; <code>COPY-SOURCE</code>.
If your RaspiBlitz is below v1.5 then on the terminal <code>sudo systemctl stop Bitcoind</code> and then go to the directory where the blockchain data is with <code>cd /mnt/hdd/bitcoin</code> - when the copy/transfer is done later reboot a RaspiBlitz source with <code>sudo shutdown -r now</code>.</p>
<p>If everything described above is in order, start the setup of the new RaspiBlitz with a fresh SD card (like explained in the README) - it&#x27;s OK that there is no blockchain data on your HDD yet - just follow the setup. When you get to the setup-point <code>Getting the Blockchain</code> choose the COPY option. Starting from version 1.0 of the RaspiBlitz this will give you further detailed instructions how to transfer the blockchain data onto your RaspiBlitz. In short: On your computer with the blockchain data source you will execute SCP commands that will copy the data over your local network to your RaspiBlitz.</p>
<p>Once you finished all the transfers, the RaspiBlitz will make a quick-check on the data - but that will not guarantee that everything in detail was OK with the transfer. Check further FAQ answers if you get stuck or see a final sync with a value below 90%.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="bitcoind-tells-me-to-reindex---how-can-i-do-this">Bitcoind tells me to reindex - how can I do this?<a href="#bitcoind-tells-me-to-reindex---how-can-i-do-this" class="hash-link" aria-label="Direct link to Bitcoind tells me to reindex - how can I do this?" title="Direct link to Bitcoind tells me to reindex - how can I do this?">​</a></h3>
<p>To find/access information fast in large data sets like the Bitcoin blockchain indexes are needed. Those indexes can get corrupted on your HDD/SSD and to repair them they need to be rebuilt - re-indexed. Bitcoind has two different options to do this - a fast way called &quot;reindex-chainstate&quot; (which just rebuilds the UTXO set from the blocks as you have them) and the slow but complete way called just &quot;reindex&quot; that would even recheck all your block data - see for details here: <a href="https://bitcoin.stackexchange.com/questions/60709/when-should-i-use-reindex-chainstate-and-when-reindex" target="_blank" rel="noopener noreferrer">https://bitcoin.stackexchange.com/questions/60709/when-should-i-use-reindex-chainstate-and-when-reindex</a></p>
<p>So if you read in your debug logs of Bitcoind that you should &quot;reindex&quot; you can try first just to do a fast &quot;reindex-chainstate&quot; and if that didnt worked a slow and full &quot;reindex&quot;.</p>
<p>See the raspiblitz script <code>./config.scripts/network.reindex.sh</code> or the REAPIR menu to start these processes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-my-final-sync-taking-so-long">Why is my &quot;final sync&quot; taking so long?<a href="#why-is-my-final-sync-taking-so-long" class="hash-link" aria-label="Direct link to Why is my &quot;final sync&quot; taking so long?" title="Direct link to Why is my &quot;final sync&quot; taking so long?">​</a></h3>
<p>First of all if you see a final sync over 90% and you can see from time to time small increase - you should be OK ... this can take a looong time to catch up with the network. Only in the case that you actively choose the <code>SYNC</code> option in the <code>Getting the Blockchain</code> is a final sync under 90% OK. If you did a torrent or a copy from another computer and you are seeing under 90% something went wrong, and the setup process is ignoring your prepared Blockchain and doing a full sync - which can almost take forever on a raspberryPi.</p>
<p>If something is wrong (like mentioned above) then try again from the beginning. You need to reset your HDD for a fresh start: SSH in as admin user. Abort the final sync info with CTRL+c to get to the terminal. Then run <code>sudo /home/admin/XXcleanHDD.sh -all</code> and follow the script to delete all data in HDD. When finished power down with <code>sudo shutdown now</code>. Then make a fresh SD card from image and this time try another option to get the blockchain. If you run into trouble the second time, please report an issue on GitHub.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-backup-my-lightning-node">How do I backup my Lightning Node?<a href="#how-do-i-backup-my-lightning-node" class="hash-link" aria-label="Direct link to How do I backup my Lightning Node?" title="Direct link to How do I backup my Lightning Node?">​</a></h3>
<p>There are two ways of performing a Backup:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-securing-your-on-chain--and-channel-funds-during-operation">1) Securing your On-Chain- and Channel-Funds during Operation<a href="#1-securing-your-on-chain--and-channel-funds-during-operation" class="hash-link" aria-label="Direct link to 1) Securing your On-Chain- and Channel-Funds during Operation" title="Direct link to 1) Securing your On-Chain- and Channel-Funds during Operation">​</a></h4>
<p>This is best done by auto backing-up the &#x27;channel.backup&#x27; file to a remote location. But it just secures the funds you have in your on-chain wallet or in your channels. On recovery the channels will get closed. For details on how to setup see the README:
<a href="https://github.com/raspiblitz/raspiblitz/blob/v1.2/README.md#backup-for-on-chain---channel-funds" target="_blank" rel="noopener noreferrer">https://github.com/raspiblitz/raspiblitz/blob/v1.2/README.md#backup-for-on-chain---channel-funds</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-making-a-complete-lnd-data-backup">2) Making a complete LND data backup<a href="#2-making-a-complete-lnd-data-backup" class="hash-link" aria-label="Direct link to 2) Making a complete LND data backup" title="Direct link to 2) Making a complete LND data backup">​</a></h4>
<p>This backups all your LND data - including all open channels. But it&#x27;s just intended to use when you move your LND data between computers, during update situations, or in rescue recoveries, because replaying out-dated backups can lead to the loss of all channel funds.</p>
<p>To backup LND data in a rescue situation see next question &quot;How can I recover my coins from a failing RaspiBlitz?&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-recover-my-coins-from-a-failing-raspiblitz">How can I recover my coins from a failing RaspiBlitz?<a href="#how-can-i-recover-my-coins-from-a-failing-raspiblitz" class="hash-link" aria-label="Direct link to How can I recover my coins from a failing RaspiBlitz?" title="Direct link to How can I recover my coins from a failing RaspiBlitz?">​</a></h3>
<p>On a RaspiBlitz you have coins in your on-chain wallet (bitcoin wallet) and also coins in lightning channels. First we will try to recover all of them while trying to keep your channels open with &quot;Recover LND data&quot;. If that is not possible you can fall back to the second option &quot;Recover from Wallet Seed&quot;.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-recover-lnd-data">1) Recover LND data<a href="#1-recover-lnd-data" class="hash-link" aria-label="Direct link to 1) Recover LND data" title="Direct link to 1) Recover LND data">​</a></h4>
<p>The best chance to recover all your LND data/channels is when you still can SSH into the RaspiBlitz and the HDD is still usable/reachable (mounted) - even if it shows some errors. If this is not possible anymore you should skip to the second option &quot;Recover from Wallet Seed&quot; or try to recover the LND data from the HDD (directory <code>lnd</code>) from another computer.</p>
<p>If you still can SSH in and HDD is readable, we can try to rescue/export your LND data (funds and channels) from a RaspiBlitz to then be able to restore it back to a fresh one. For this you can use the following procedure ...</p>
<p>To rescue/export your Lightning data from a RaspiBlitz (since v1.1):</p>
<ul>
<li>SSH into your RaspiBlitz and EXIT to terminal from the menu.</li>
<li>then run: <code>/home/admin/config.scripts/lnd.backup.sh lnd-export-gui</code></li>
<li>follow the instructions of the script.</li>
</ul>
<p>This will create a lnd-rescue file (ends on gz.tar) that contains all the data from the LND. The script offers you a command to transfer the lnd-rescue file to your laptop. If the transfer was successful you can now setup a fresh RaspiBlitz. Do all the setup until you have a clean new Lightning node running - just without any funding or channels.</p>
<p>Then to restore your old LND data and to recover your funds and channels:</p>
<ul>
<li>SSH into your new RaspiBlitz and EXIT to terminal from the menu.</li>
<li>then run: <code>/home/admin/config.scripts/lnd.backup.sh lnd-import-gui</code></li>
<li>follow the instructions of the script.</li>
</ul>
<p>This script will offer you a way to transfer the lnd-rescue file from your laptop to the new RaspiBlitz and will restore the old data. LND then gets restarted for you, and after some time it should show you the status screen again with your old funds and channels.</p>
<p><strong>Be aware that if backup is some hours old, channels could have been closed by the other party and it may take some time until you see funds back on-chain. If backup is somewhat older then 1 day also the channel counter-parties may have used your offline time to cheat you with an old state. And if your backup was not the latest state it could also be happening that you are posting an old channel state (seen as cheating) and funds of that channel get forfeited as punishment. So again .. this backup method can be risky, use with caution. While it&#x27;s recommended to try in recover and rescue situations - it&#x27;s not for regular backups.</strong></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-recover-from-wallet-seed">2) Recover from Wallet Seed<a href="#2-recover-from-wallet-seed" class="hash-link" aria-label="Direct link to 2) Recover from Wallet Seed" title="Direct link to 2) Recover from Wallet Seed">​</a></h4>
<p>Remember those 24 words you were writing down during the setup? That&#x27;s your &quot;cipher seed&quot; - These words are very important for recovering your wallet. If you don&#x27;t have them anymore: go back to option &quot;Recover LND data&quot; (see above) and check all possible ways to recover data from the HDD. If you still have the word seed: good, but read the following carefully:</p>
<p>With the word seed you can recover the on-chain funds that LND was managing for you - but it does not contain all the details about the channels you have open - it&#x27;s mostly the key to your funding wallet. If you were able to close all channels or never opened any, then you should be safe: The best results to recover on-chain funds from wallet seeds have been reported from people installing the Lightning Labs App on laptop and then using the wallet seed (and same wallet passwords): <a href="https://github.com/lightninglabs/lightning-app/releases" target="_blank" rel="noopener noreferrer">https://github.com/lightninglabs/lightning-app/releases</a>. Other people were successful in this process using the Zap Desktop wallet (OSX, Win, Linux): <a href="https://zap.jackmallers.com/download" target="_blank" rel="noopener noreferrer">https://zap.jackmallers.com/download</a></p>
<p>If you had open channels it would be best to check if you have also the <code>channel.backup</code> file (Static-Channel-Backup feature).</p>
<ul>
<li>SetUp a fresh RaspiBlitz (fresh SD-Card image and clean HDD).</li>
<li>During the new SetUp, when you get to the point of creating the LND wallet (see image below).</li>
<li>Choose <code>OLD - I had an old Node I want to recover/restore</code> option and then</li>
<li>Choose <code>SEED+SCB - Seed &amp; channel.backup file</code> option</li>
<li>and follow the instructions to upload your <code>channel.backup</code> file and enter your seed</li>
</ul>
<p>Then give LND some time to re-scan the blockchain. In the end you will have restored your funding wallet. You maybe need to wait for your old channel counterparts to force close the old channels until you see the coins displayed again.</p>
<p>If you don&#x27;t have the <code>channel.backup</code> file but only the seed words there is a last hope - read this article:
<a href="https://medium.com/@guggero/did-you-lose-funds-on-the-lightning-network-because-of-a-disk-crash-8971b6a92494" target="_blank" rel="noopener noreferrer">https://medium.com/@guggero/did-you-lose-funds-on-the-lightning-network-because-of-a-disk-crash-8971b6a92494</a></p>
<p><em>Important: If you see a zero balance for on-chain funds after restoring from seed ... see details discussed <a href="https://github.com/raspiblitz/raspiblitz/issues/278" target="_blank" rel="noopener noreferrer">here</a> - you might try setup fresh this time with bigger look-ahead number.</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-use-blixt-wallet-to-rescue-lnd-funds-with-seed-words-and-a-static-channel-backup-scb">How Can I Use Blixt Wallet to Rescue LND Funds with Seed Words and a Static Channel Backup (SCB)?<a href="#how-can-i-use-blixt-wallet-to-rescue-lnd-funds-with-seed-words-and-a-static-channel-backup-scb" class="hash-link" aria-label="Direct link to How Can I Use Blixt Wallet to Rescue LND Funds with Seed Words and a Static Channel Backup (SCB)?" title="Direct link to How Can I Use Blixt Wallet to Rescue LND Funds with Seed Words and a Static Channel Backup (SCB)?">​</a></h3>
<ul>
<li>Install Blixt Wallet from the App Store or Google Play Store.</li>
<li>Restore your wallet using your 24-word seed phrase.</li>
<li>Import the Static Channel Backup (SCB) file into Blixt Wallet.</li>
<li>Verify the restoration of your channels and balances.</li>
<li>Close channels manually if needed and monitor the on-chain transactions.</li>
<li>Using Blixt Wallet with your LND seed words and SCB file provides a straightforward method to rescue your funds without needing a fully synced Bitcoin blockchain.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-change-the-namealias-of-my-lightning-node">How do I change the Name/Alias of my lightning node?<a href="#how-do-i-change-the-namealias-of-my-lightning-node" class="hash-link" aria-label="Direct link to How do I change the Name/Alias of my lightning node?" title="Direct link to How do I change the Name/Alias of my lightning node?">​</a></h3>
<p>Use the &quot;Change Name/Alias of Node&quot; option in the Lightning - LND Wallet Options menu. The RaspiBlitz will automatically reboot after this.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-change-the-public-port-lndlightning-node-is-running-on">How do I change the public port LND/Lightning node is running on?<a href="#how-do-i-change-the-public-port-lndlightning-node-is-running-on" class="hash-link" aria-label="Direct link to How do I change the public port LND/Lightning node is running on?" title="Direct link to How do I change the public port LND/Lightning node is running on?">​</a></h3>
<p>There is a experimental script you can call from the terminal that will make all changes for you ... see details here: <a href="https://github.com/raspiblitz/raspiblitz/issues/100#issuecomment-466722712" target="_blank" rel="noopener noreferrer">https://github.com/raspiblitz/raspiblitz/issues/100#issuecomment-466722712</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-solve-a-signature-mismatch-after-caveat-verification-error">How do I solve a &quot;signature mismatch after caveat verification&quot; error?<a href="#how-do-i-solve-a-signature-mismatch-after-caveat-verification-error" class="hash-link" aria-label="Direct link to How do I solve a &quot;signature mismatch after caveat verification&quot; error?" title="Direct link to How do I solve a &quot;signature mismatch after caveat verification&quot; error?">​</a></h3>
<p>If you get this error by LND it means that something is wrong with the macaroons being used to communicate with LND .. see: <a href="https://github.com/lightningnetwork/lnd/blob/master/docs/macaroons.md" target="_blank" rel="noopener noreferrer">https://github.com/lightningnetwork/lnd/blob/master/docs/macaroons.md</a></p>
<p>Fixing this depends on where you get this error:</p>
<ul>
<li>If you get it in a mobile wallet, then redo the connection with the RaspiBlitz to get fresh macaroons.</li>
<li>If you get this from RTL or from the scripts of the SSH menus of the RaspiBlitz, then go to &quot;EXPORT Macacroons and TLS.cert&quot; in SSH main menu and choose the the &quot;RESET Macaroons &amp; TLS&quot; option.</li>
</ul>
<p>Also make sure to check again on your power supply - it needs to deliver equal or more then 3A and should deliver a stable current. If you think your HDD is degrading - maybe this is a good time to replace it. See for details the FAQ question: <a href="/docs/faq#how-can-i-recover-my-coins-from-a-failing-raspiblitz">How can I recover my coins from a failing RaspiBlitz?</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-my-node-not-routing">Why is my node not routing?<a href="#why-is-my-node-not-routing" class="hash-link" aria-label="Direct link to Why is my node not routing?" title="Direct link to Why is my node not routing?">​</a></h3>
<ol>
<li>You don&#x27;t have inbound liquidity</li>
<li>Low uptime</li>
<li>Capital is committed to competitive destinations</li>
<li>Capital committed to destinations no one wants to send to</li>
<li>Fees are too high</li>
<li>Your inbound liquidity doesn&#x27;t have good inbound liquidity itself</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-using-auto-unlock-how-much-security-do-i-lose">When using Auto-Unlock, how much security do I lose?<a href="#when-using-auto-unlock-how-much-security-do-i-lose" class="hash-link" aria-label="Direct link to When using Auto-Unlock, how much security do I lose?" title="Direct link to When using Auto-Unlock, how much security do I lose?">​</a></h3>
<p>The idea of the &quot;wallet lock&quot; in general, is that your private key / seed / wallet is stored in a encrypted way on your HDD. On every restart, you have to input the password once manually (unlock your wallet), so that the LND can read and write to the encrypted wallet again. This improves your security if your RaspiBlitz gets stolen or taken away - it loses power and then your wallet is safe - the attacker cannot access your wallet.</p>
<p>When you activate the &quot;Auto-Unlock&quot; feature of the RaspiBlitz, the password of the wallet gets stored on the RaspiBlitz. So if an attacker steals the RaspiBlitz physically, it&#x27;s now possible for them to find the password and unlock the wallet.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="i-connected-my-hdd-but-it-still-says-connect-hdd-on-the-display">I connected my HDD but it still says &#x27;Connect HDD&#x27; on the display?<a href="#i-connected-my-hdd-but-it-still-says-connect-hdd-on-the-display" class="hash-link" aria-label="Direct link to I connected my HDD but it still says &#x27;Connect HDD&#x27; on the display?" title="Direct link to I connected my HDD but it still says &#x27;Connect HDD&#x27; on the display?">​</a></h3>
<p>Your HDD may have no partitions yet. SSH into the RaspiBlitz as admin (see command and password on display) and you should be offered the option to create a partition. If this is not the case:</p>
<p>Check/Exchange the USB cable. Connect the HDD to another computer and check if it shows up at all.</p>
<p>OSX: <a href="https://www.howtogeek.com/212836/how-to-use-your-macs-disk-utility-to-partition-wipe-repair-restore-and-copy-drives/" target="_blank" rel="noopener noreferrer">https://www.howtogeek.com/212836/how-to-use-your-macs-disk-utility-to-partition-wipe-repair-restore-and-copy-drives/</a></p>
<p>Windows: <a href="https://www.lifewire.com/how-to-open-disk-management-2626080" target="_blank" rel="noopener noreferrer">https://www.lifewire.com/how-to-open-disk-management-2626080</a></p>
<p>Linux/Ubuntu (desktop): <a href="https://askubuntu.com/questions/86724/how-do-i-open-the-disk-utility-in-unity" target="_blank" rel="noopener noreferrer">https://askubuntu.com/questions/86724/how-do-i-open-the-disk-utility-in-unity</a></p>
<p>Linux/Raspbian (command line): <a href="https://www.addictivetips.com/ubuntu-linux-tips/manually-partition-a-hard-drive-command-line-linux/" target="_blank" rel="noopener noreferrer">https://www.addictivetips.com/ubuntu-linux-tips/manually-partition-a-hard-drive-command-line-linux/</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-shrink-the-qr-code-for-connecting-my-shangozapzeus-mobile-phone">How do I shrink the QR code for connecting my Shango/Zap/Zeus mobile phone?<a href="#how-do-i-shrink-the-qr-code-for-connecting-my-shangozapzeus-mobile-phone" class="hash-link" aria-label="Direct link to How do I shrink the QR code for connecting my Shango/Zap/Zeus mobile phone?" title="Direct link to How do I shrink the QR code for connecting my Shango/Zap/Zeus mobile phone?">​</a></h3>
<p>Make the fonts smaller until the QR code fits into your (fullscreen) terminal. In OSX use <code>CMD</code> + <code>-</code> key. In LINUX use <code>CTRL</code>+ <code>-</code> key. On WINDOWS Putty go into the settings and change the font size: <a href="https://globedrill.com/change-font-size-putty" target="_blank" rel="noopener noreferrer">https://globedrill.com/change-font-size-putty</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-my-bitcoin-ip-on-the-display-red">Why is my bitcoin IP on the display red?<a href="#why-is-my-bitcoin-ip-on-the-display-red" class="hash-link" aria-label="Direct link to Why is my bitcoin IP on the display red?" title="Direct link to Why is my bitcoin IP on the display red?">​</a></h3>
<p>The bitcoin IP is red when the RaspiBlitz detects that it cannot reach the port of bitcoin node from the outside. This means the bitcoin node can peer with other bitcoin nodes, but other bitcoin nodes cannot initiate a peering with you. Don&#x27;t worry, you don&#x27;t need a publicly reachable bitcoin node to run a (public) lightning node. If you want to change this however, you need to forward port 8333 on your router to the RaspiBlitz. How to do this is different on every router.</p>
<p>Some routers support a feature called UPnP where devices can automatically request a forwarding to be publicly reachable. By turning on <code>BTC UPnP</code> in the main menu <code>SERVICES</code> section, you can try if your router supports this feature.</p>
<p>On details how to set port forwarding manually on your router model see: <a href="https://portforward.com" target="_blank" rel="noopener noreferrer">https://portforward.com</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-my-node-address-on-the-display-red">Why is my node address on the display red?<a href="#why-is-my-node-address-on-the-display-red" class="hash-link" aria-label="Direct link to Why is my node address on the display red?" title="Direct link to Why is my node address on the display red?">​</a></h3>
<p>The node address is red when the RaspiBlitz detects that it cannot reach the port of the LND node from the outside - when the device is behind a NAT or firewall of the router. Your node is not publicly reachable. This means you can peer+openChannel with other public nodes, but other nodes cannot peer+openChannel with you. To change this you need to forward port 9735 on your router to the RaspiBlitz. How to do this is different on every router.</p>
<p>Some routers support a feature called UPnP where devices can automatically request a forwarding to be publicly reachable. By turning on <code>LND UPnP</code> in the main menu <code>SERVICES</code> section, you can try if your router supports this feature.</p>
<p>On details how to set port forwarding manually on your router model see: <a href="https://portforward.com" target="_blank" rel="noopener noreferrer">https://portforward.com</a></p>
<p>Also the self-testing of the RaspiBlitz to see if the port is forwarded or not might not work if your router is not supporting <a href="https://en.wikipedia.org/wiki/Hairpinning" target="_blank" rel="noopener noreferrer">Hairpinning</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-my-node-address-on-the-display-yellow-not-green">Why is my node address on the display yellow (not green)?<a href="#why-is-my-node-address-on-the-display-yellow-not-green" class="hash-link" aria-label="Direct link to Why is my node address on the display yellow (not green)?" title="Direct link to Why is my node address on the display yellow (not green)?">​</a></h3>
<p>Yellow is OK. The RaspiBlitz can detect that it can reach a service on the port 9735 of your public IP - this is in most cases the LND of your RaspiBlitz. But the RaspiBlitz cannot 100% for sure detect that this is its own LND service on that port - that&#x27;s why it&#x27;s just yellow, not green.</p>
<p>For details on how to set port forwarding on your router model see: <a href="https://portforward.com" target="_blank" rel="noopener noreferrer">https://portforward.com</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-set-a-fixed-ip">How can I set a fixed IP?<a href="#how-can-i-set-a-fixed-ip" class="hash-link" aria-label="Direct link to How can I set a fixed IP?" title="Direct link to How can I set a fixed IP?">​</a></h3>
<p>Add an entry called <code>staticIP</code> in <code>raspiblitz.conf</code> to prevent external IP detection and force a fixed IP for your node.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-fix-a-displayed-error-in-my-config">How do I fix a displayed Error in my Config?<a href="#how-do-i-fix-a-displayed-error-in-my-config" class="hash-link" aria-label="Direct link to How do I fix a displayed Error in my Config?" title="Direct link to How do I fix a displayed Error in my Config?">​</a></h3>
<p>When the LCD display is telling you to do a config check:</p>
<ul>
<li>go to the RaspiBlitz terminal (X on main menu) and run &#x27;patch&#x27;</li>
<li>start reboot with command: &#x27;restart&#x27;</li>
<li>go to the RaspiBlitz terminal run the command: &#x27;check&#x27;</li>
<li>now edit the RaspiBlitz config and get rid of the errors: &#x27;nano /mnt/hdd/raspiblitz.conf&#x27;</li>
<li>save config with: CTRL+o</li>
<li>exit nano editor with: CTRL+x</li>
<li>start reboot with command: &#x27;restart&#x27;</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-run-the-raspiblitz-as-backend-for-btcpayserver">Can I run the RaspiBlitz as Backend for BTCPayServer?<a href="#can-i-run-the-raspiblitz-as-backend-for-btcpayserver" class="hash-link" aria-label="Direct link to Can I run the RaspiBlitz as Backend for BTCPayServer?" title="Direct link to Can I run the RaspiBlitz as Backend for BTCPayServer?">​</a></h3>
<p>BTCPay Server is a solution to be your own payment processor to accept Lightning Payments for your online store: <a href="https://github.com/btcpayserver/btcpayserver" target="_blank" rel="noopener noreferrer">https://github.com/btcpayserver/btcpayserver</a></p>
<p>You can find setup instructions for a experimental setup here: <a href="https://goo.gl/KnTzLu" target="_blank" rel="noopener noreferrer">https://goo.gl/KnTzLu</a></p>
<p>Thanks to @RobEdb (ask on twitter for more details) for running his demo store with RaspiBlitz: <a href="https://store.edberg.eu" target="_blank" rel="noopener noreferrer">https://store.edberg.eu</a> - buy a picture of <a href="https://store.edberg.eu/produkt/jag-andreas/" target="_blank" rel="noopener noreferrer">him and Andreas</a> :)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="i-dont-have-a-lan-port-on-my-laptop---how-do-i-connect-to-my-raspiblitz">I don&#x27;t have a LAN port on my Laptop - how do I connect to my RaspiBlitz?<a href="#i-dont-have-a-lan-port-on-my-laptop---how-do-i-connect-to-my-raspiblitz" class="hash-link" aria-label="Direct link to I don&#x27;t have a LAN port on my Laptop - how do I connect to my RaspiBlitz?" title="Direct link to I don&#x27;t have a LAN port on my Laptop - how do I connect to my RaspiBlitz?">​</a></h3>
<p>You don&#x27;t need a LAN port on your laptop as long as you can connect over WLAN to the same LAN router/switch the RaspiBlitz is connected to .. and you are on the same local network.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="is-it-possible-to-connect-the-blitz-over-wifi-instead-of-using-a-lan-cable">Is it possible to connect the Blitz over Wifi instead of using a LAN cable?<a href="#is-it-possible-to-connect-the-blitz-over-wifi-instead-of-using-a-lan-cable" class="hash-link" aria-label="Direct link to Is it possible to connect the Blitz over Wifi instead of using a LAN cable?" title="Direct link to Is it possible to connect the Blitz over Wifi instead of using a LAN cable?">​</a></h3>
<p>A LAN cable is recommended because it reduces a possible source of error on the network connection side. But how to setup WLAN when you don&#x27;t have a LAN-Router/Switch available see here:</p>
<p>To set up WiFi on the RaspiBlitz, you need to place a configuration file on the root directory of the SD card used to boot your Raspberry Pi. The RaspiBlitz checks for two specific files: <code>wifi</code> and <code>wpa_supplicant.conf</code>.</p>
<p>To store these files on the root directory of your SD card, you can use a computer with an SD card reader:</p>
<ol>
<li>Insert the SD card into your computer.</li>
<li>Open the SD card directory (usually labeled as &quot;boot&quot; or similar).</li>
<li>Create a <code>wifi</code> text file (without an ening like .txt - just the name) on the root directory of the SD card (not inside any folders).</li>
<li>Within the file write the SSID (name of your WiFi network) on the first line and the WiFi password on the second line. Make sure there are no extra spaces or blank lines. Save this file and place it in the root directory of your SD card.</li>
</ol>
<p>Example content of the <code>wifi</code> file:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">YourWiFiSSID</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">YourWiFiPassword</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When the RaspiBlitz boots up, it will check for the presence of the <code>wifi</code> file. If it finds the file, it will read the SSID and password and attempt to configure the WiFi connection. If the configuration is successful, the <code>wifi</code> file will be removed from the SD card, and a success message will be logged.</p>
<p>If an error occurs during this process, an error message will be logged, &quot;errorWIFI&quot; will be displayed on the LCD for one minute, and the system will shut down.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-directly-connect-the-raspiblitz-to-my-laptop">Can I directly connect the RaspiBlitz to my laptop?<a href="#can-i-directly-connect-the-raspiblitz-to-my-laptop" class="hash-link" aria-label="Direct link to Can I directly connect the RaspiBlitz to my laptop?" title="Direct link to Can I directly connect the RaspiBlitz to my laptop?">​</a></h3>
<p>If you have a LAN port on your laptop - or you have a USB-LAN adapter, you can connect the RaspiBlitz directly (without a router/switch) to your laptop and share the WIFI internet connection. You can follow this <a href="https://medium.com/@tzhenghao/how-to-ssh-into-your-raspberry-pi-with-a-mac-and-ethernet-cable-636a197d055" target="_blank" rel="noopener noreferrer">guide for OSX</a> and this <a href="https://www.tomshardware.com/how-to/share-internet-connection-windows-ethernet-wi-fi" target="_blank" rel="noopener noreferrer">guide for Windows</a>.</p>
<p>In short for OSX:</p>
<ul>
<li>make sure all VPNs are off (can interfere with local LAN)</li>
<li>connect with LAN directly</li>
<li>Settings &gt; Sharing/Freigaben &gt; activate &quot;internet sharing&quot; from WLAN to Ethernet</li>
<li>Settings &gt; Network &gt; Ethernet-Adapter &gt; set to DHCP</li>
<li>in terminal &gt; <code>ifconfig</code> there you should see the IP of the bridge100</li>
<li>in terminal &gt; <code>arp -a</code> and check for an IP of a client to the bridge</li>
<li>in terminal &gt; ssh admin@[clientIP]</li>
</ul>
<p>In short for Windows:</p>
<ul>
<li>make sure all VPNs are off (can interfere with local LAN)</li>
<li>connect RaspiBlitz with laptop LAN/ethernet directly</li>
<li>Control Panel &gt; Network and Internet &gt; Network and Sharing Centre</li>
<li>Click on your active internet connection highlighted in blue</li>
<li>Properties &gt; Sharing</li>
<li>Check the box titled &quot;Allow other network users to connect through this computer&#x27;s Internet connection</li>
<li>Select LAN/Ethernet from the &quot;Home networking connection:&quot; dropdown menu</li>
<li>Click OK</li>
<li>Restart the RaspiBlitz</li>
</ul>
<p>If anyone has experience on doing this in Linux please share.</p>
<p>#rd## Are those &quot;Under-Voltage detected&quot; warnings a problem?</p>
<p>When your USB power adapter for the RaspiBlitz delivers too low of a power level, those messages with &quot;Under-Voltage detected&quot; (under-voltage) are shown on the display. This can lead to data loss/corruption on the HDD. If you see this just one or two times it&#x27;s not OK, but can be in a tolerant window. Nevertheless it is important to make sure that your USB power adapter can deliver at least 3A (big and stable is good). If you still see those warnings maybe get a second USB Power adapter just for the HDD, and power the HDD through a Y-Cable - see <a href="https://en.wikipedia.org/wiki/Y-cable#USB" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/Y-cable#USB</a> or put a USB Hub with extra power between the Raspberry and the HDD.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-return-to-the-menu-after-exiting-to-the-command-line">How do I return to the menu after exiting to the command line<a href="#how-do-i-return-to-the-menu-after-exiting-to-the-command-line" class="hash-link" aria-label="Direct link to How do I return to the menu after exiting to the command line" title="Direct link to How do I return to the menu after exiting to the command line">​</a></h3>
<p>Type the command <code>raspiblitz</code> to return to the main menu if you exited to the command line.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-setup-freshcleanreset-and-without-going-into-recovery-mode">How do I setup fresh/clean/reset and without going into recovery mode?<a href="#how-do-i-setup-freshcleanreset-and-without-going-into-recovery-mode" class="hash-link" aria-label="Direct link to How do I setup fresh/clean/reset and without going into recovery mode?" title="Direct link to How do I setup fresh/clean/reset and without going into recovery mode?">​</a></h3>
<p>When you put in a SD card with a new/clean RaspiBlitz image the RaspiBlitz will go into recovery mode because it detects the old data on your HDD and assumes you just want to continue to work with this data.</p>
<p>But there might be cases where you want to start a totally fresh/clean RaspiBlitz from the beginning. To do so you need to delete the old data from the HDD. Choose the option <code>RESET-ALL</code> under <code>REPAIR</code> to delete all data and start fresh.</p>
<p>When the HDD is clean, then flash a new RaspiBlitz sd card and your setup should start fresh.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="my-blockchain-data-is-corrupted---what-can-i-do">My blockchain data is corrupted - what can I do?<a href="#my-blockchain-data-is-corrupted---what-can-i-do" class="hash-link" aria-label="Direct link to My blockchain data is corrupted - what can I do?" title="Direct link to My blockchain data is corrupted - what can I do?">​</a></h3>
<p>You could try to re-index, but that can take a very long time - multiple days or even weeks. But there are other options:</p>
<ol>
<li>Get new Blockchain</li>
</ol>
<p>Use <code>REPAIR</code> in the SSH main menu and then choose <code>RESET-CHAIN</code>. Then you get offered multiple options to get new blockchain data.</p>
<ol start="2">
<li>Backup LND Data, make fresh Blitz, Replay LND Data</li>
</ol>
<p>You can backup your channel and wallet data, make a complete fresh RaspiBlitz and after that is setup, you replace the LND data with your old data. Also make sure to check again on your power supply - it needs to deliver equal or more then 3A, and should deliver a stable current. If you think your HDD or SD card is degrading - maybe this is a good time to replace it. See for details the FAQ question: <a href="/docs/faq#how-can-i-recover-my-coins-from-a-failing-raspiblitz">How can I recover my coins from a failing RaspiBlitz?</a>*</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="i-have-two-raspiblitz-in-my-network---can-they-both-be-public">I have two RaspiBlitz in my network - can they both be public?<a href="#i-have-two-raspiblitz-in-my-network---can-they-both-be-public" class="hash-link" aria-label="Direct link to I have two RaspiBlitz in my network - can they both be public?" title="Direct link to I have two RaspiBlitz in my network - can they both be public?">​</a></h3>
<p>Yes but you need to change the port number (for example to 9736) on at least one of your RaspiBlitzes - see how to change a port below. Then you can forward both ports from your home internet router to the matching RaspiBlitzes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-enforce-uasp-mode-for-my-ssd-controller">How can I enforce UASP mode for my SSD controller?<a href="#how-can-i-enforce-uasp-mode-for-my-ssd-controller" class="hash-link" aria-label="Direct link to How can I enforce UASP mode for my SSD controller?" title="Direct link to How can I enforce UASP mode for my SSD controller?">​</a></h3>
<p>By default just tested &amp; selected SSD encasings/controller are running enabled with UASP in RaspiBlitz. UASP brings a speed up for the SSD but also if not well supported by the SSD encasing/controller can lead to system halts. If you know for sure that your SSD encasing/controller is supporting UASP fully you can place a file called <code>uasp.force</code> on the sd card boot section after flashing the image with your laptop. See details or report errors on issue <a href="https://github.com/raspiblitz/raspiblitz/issues/2488" target="_blank" rel="noopener noreferrer">#2488</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="i-am-facing-maintenanceemergency-mode-on-boot-how-do-i-fix-it">I am facing maintenance/emergency mode on boot. How do I fix it?<a href="#i-am-facing-maintenanceemergency-mode-on-boot-how-do-i-fix-it" class="hash-link" aria-label="Direct link to I am facing maintenance/emergency mode on boot. How do I fix it?" title="Direct link to I am facing maintenance/emergency mode on boot. How do I fix it?">​</a></h3>
<p>This behavior is caused by either the software that flashes the RaspiBlitz image onto the sd card, or by a faulty sd-card. The only solution is to try switching the software/computer you use for flashing and/or trying another sd card.</p>
<p>See issues #3039, #1053 &amp; #782</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="extras">Extras<a href="#extras" class="hash-link" aria-label="Direct link to Extras" title="Direct link to Extras">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-connect-a-ups-to-the-raspiblitz">How do I connect a UPS to the RaspiBlitz?<a href="#how-do-i-connect-a-ups-to-the-raspiblitz" class="hash-link" aria-label="Direct link to How do I connect a UPS to the RaspiBlitz?" title="Direct link to How do I connect a UPS to the RaspiBlitz?">​</a></h3>
<p>A UPS (Uninterruptible Power Supply) is used to protect the RaspiBlitz against power outages. Normally you put it just between your normal power outlet and your RaspiBlitz and you are set. But some UPS offer a way to communicate with devices. This can be very useful for example if on a longer power outage the battery of the UPS runs low the RaspiBlitz could detect this and power down in a clean way - instead of a sudden stop that risks data loss or corruption.</p>
<ul>
<li>
<p>There is an experimental script to connect the RaspiBlitz to a UPS over USB cable build by APC - the Model tested with was <a href="https://www.amazon.de/APC-Back-UPS-Unterbrechungsfreie-Stromversorgung-BX700U-GR/dp/B00T7BYRCK" target="_blank" rel="noopener noreferrer">APC Back-UPS BX - BX700U-GR</a> but it should work with every APC model offering a USB port. <br>
<!-- -->To turn it on run from terminal: <code>/home/admin/config.scripts/blitz.ups.sh on apcusb</code></p>
</li>
<li>
<p>There is also a script dealing with Geekworm/Suptronics <a href="https://www.amazon.com/Geekworm-Raspberry-Management-Detection-Shutdown/dp/B08DNRYM4Y/" target="_blank" rel="noopener noreferrer">X708 UPS HAT</a>. The tested model was x708v1.2. <br>
<!-- -->To turn it on run from terminal: <code>/home/admin/config.scripts/blitz.ups.sh on x708</code></p>
</li>
</ul>
<p>If you have other UPS models or ways to connect ... feel free to extend this script.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-run-my-raspiblitz-on-solar-energy">Can I run my RaspiBlitz on Solar Energy?<a href="#can-i-run-my-raspiblitz-on-solar-energy" class="hash-link" aria-label="Direct link to Can I run my RaspiBlitz on Solar Energy?" title="Direct link to Can I run my RaspiBlitz on Solar Energy?">​</a></h3>
<p>Yes - take a look at the project of <a href="https://twitter.com/mezie16/status/1264513274080636928?s=20" target="_blank" rel="noopener noreferrer">Chimezie Chuta</a></p>
<p><img decoding="async" loading="lazy" alt="RaspiSolar" src="/assets/images/raspisolar-a8f3f880666beade188de681d9f7d171.jpg" width="1549" height="1090" class="img_ev3q"></p>
<p>More details in his book <a href="https://blockspace.shop/products/a-z-of-building-your-own-full-bitcoin-lightning-node-a-hand-book-for-enthusiasts" target="_blank" rel="noopener noreferrer">&quot;A-Z of Building your own Full Bitcoin Lightning Node: A hand Book for Enthusiasts&quot;</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-use-the-lets-encrypt-client">How to use the Let&#x27;s Encrypt client<a href="#how-to-use-the-lets-encrypt-client" class="hash-link" aria-label="Direct link to How to use the Let&#x27;s Encrypt client" title="Direct link to How to use the Let&#x27;s Encrypt client">​</a></h3>
<p>The <a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">Let&#x27;s Encrypt</a> client software <a href="https://github.com/acmesh-official/acme.sh" target="_blank" rel="noopener noreferrer">acme.sh</a> is
included (since v1.6) and can be used to create TLS certificates that are signed by the Certificate Authority (<em>Root
CA</em>) <strong>Let&#x27;s Encrypt</strong> and which are therefore trusted on all modern platforms.</p>
<p>In order to successfully get a signed certificate you need to <strong>verify ownership</strong> over a <strong>DNS domain</strong> or a <strong>full
qualified domain name</strong> (<strong>FQDN</strong>). Currently Let&#x27;s Encrypt <strong>doesn&#x27;t</strong> issue certificates for IP addresses. The two
most common standards for verification of control are <code>HTTP-01</code> and <code>DNS-01</code>.</p>
<p>The <strong>acme.sh</strong> client supports both modes and has a large number of DNS services (more than 50) it can interact with.
More details can be found on the <a href="https://github.com/acmesh-official/acme.sh/wiki" target="_blank" rel="noopener noreferrer">acme.sh wiki</a>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lets-encrypt---http-01">Let&#x27;s Encrypt - HTTP-01<a href="#lets-encrypt---http-01" class="hash-link" aria-label="Direct link to Let&#x27;s Encrypt - HTTP-01" title="Direct link to Let&#x27;s Encrypt - HTTP-01">​</a></h4>
<p>To use <code>HTTP-01</code> your RaspiBlitz needs to be accessible directly from the Internet on a <strong>public IP address</strong> on <strong>port
80</strong>. If you don&#x27;t have a public IPv4/IPv6 IP on either <code>eth0</code> or <code>wlan0</code> then it might be possible to use <strong>NAT port
forwarding</strong> or an <strong>autossh-tunnel</strong> to fulfill this requirement.</p>
<p>If everything (this includes creating a <code>DNS A</code> or <code>DNS CNAME</code> record that points to a static or dynamic IP address) is
set up so that the Let&#x27;s Encrypt servers can reach your RaspiBlitz on port 80 then the following command will perform
the initial creation of a signed certificate and will also store the configuration data needed to regularly refresh it.
Just run this once and then lean back and forget about it. :-D</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">~/.acme.sh/acme.sh --keylength ec-256 --issue -d hostname.example.com -w /var/www/letsencrypt/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lets-encrypt---dns-01">Let&#x27;s Encrypt - DNS-01<a href="#lets-encrypt---dns-01" class="hash-link" aria-label="Direct link to Let&#x27;s Encrypt - DNS-01" title="Direct link to Let&#x27;s Encrypt - DNS-01">​</a></h4>
<p>The <code>DNS-01</code> standard <strong>proves ownership</strong> by creating <code>DNS TXT</code> records on the domain or subdomain you want to use.
This requires interaction with and access to a dns server but comes with the benefit that <code>wildcard certificates</code>
can be issued.</p>
<p>It is beyond the scope of this FAQ entry to explain all details of this - please refer to the official documentation.
Assuming you are using the <a href="https://www.duckdns.org/" target="_blank" rel="noopener noreferrer">DuckDNS</a> dynamic DNS service then the following command will
get a certificate (including a wildcard subject alternative name (<strong>SAN</strong>) listing). It will also take care of continuous
renewals.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">export DuckDNS_Token=&quot;abcdefgh-0123-56ij-78kl-abcd9012efgh&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">~/.acme.sh/acme.sh --issue --keylength ec-256 --dns dns_duckdns -d hostname.duckdns.org -d *.hostname.duckdns.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As mentioned, more that 50 other services (including self-hosted options like e.g. <code>nsupdate</code> or <code>PowerDNS</code>) are supported.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lets-encrypt---email-address">Let&#x27;s Encrypt - eMail Address<a href="#lets-encrypt---email-address" class="hash-link" aria-label="Direct link to Let&#x27;s Encrypt - eMail Address" title="Direct link to Let&#x27;s Encrypt - eMail Address">​</a></h4>
<p>The installation process of the <code>acme.sh</code> client includes a prompt for an eMail address. The data entered there is
stored in the <code>accounts.conf</code> file as <code>ACCOUNT_EMAIL</code>. This address is used by Let&#x27;s Encrypt to notify you about
the expiry of certificates (which is not really needed as renewals are automated) and also about changes to their
<strong>Terms of Service</strong>. For more details please check their <a href="https://letsencrypt.org/privacy/" target="_blank" rel="noopener noreferrer">privacy policy</a>.</p>
<p>It is currently considered completely fine to leave this field empty and not provide an eMail address.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="lets-encrypt---installation-details">Let&#x27;s Encrypt - Installation details<a href="#lets-encrypt---installation-details" class="hash-link" aria-label="Direct link to Let&#x27;s Encrypt - Installation details" title="Direct link to Let&#x27;s Encrypt - Installation details">​</a></h4>
<p>The <code>acme.sh</code> script is installed in <code>/home/admin/.acme.sh/</code> - the configuration and the certificates are stored on the
external hard disk in <code>/mnt/hdd/app-data/letsencrypt</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-this-mnemonic-seed-word-list">What is this mnemonic seed word list?<a href="#what-is-this-mnemonic-seed-word-list" class="hash-link" aria-label="Direct link to What is this mnemonic seed word list?" title="Direct link to What is this mnemonic seed word list?">​</a></h3>
<p>With the 24 word list given you by LND upon wallet creation you can recover your private key. You should write it down and store it at a safe place. Bear in mind that <em>this 24 word mnemonic seed is not based on the BIP 39</em> and therefore cannot be recovered using a Bitcoin wallet.</p>
<p>For more background on the LND mnemonic seed <a href="https://github.com/lightningnetwork/lnd/blob/master/docs/recovery.md#recovering-funds-from-lnd-funds-are-safu" target="_blank" rel="noopener noreferrer">read this article</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-set-up-vnc">How do I set up VNC?<a href="#how-do-i-set-up-vnc" class="hash-link" aria-label="Direct link to How do I set up VNC?" title="Direct link to How do I set up VNC?">​</a></h3>
<p>Enter the Console/Terminal by selecting the last option from the RaspiBlitz menu.
<img decoding="async" loading="lazy" alt="RaspiBlitz menu" src="/assets/images/vnc-go-to-console-acab33e52b1da56ec716f3d31cc72196.png" width="543" height="281" class="img_ev3q"></p>
<p>Enable the VNC server using raspi-config:</p>
<p><code>sudo raspi-config</code></p>
<p>In the menu, go to
<em>Interfacing Options &gt; VNC &gt; Enable</em>
<img decoding="async" loading="lazy" alt="Raspi-config menu" src="/assets/images/vnc-raspi-config-menu-1fb920d47e7586f9b585a771e44d5f75.png" width="734" height="314" class="img_ev3q"></p>
<p>After that reboot the RaspiBlitz. You can do this easily from the RaspiBlitz menu.
In the command line, type:
<code>menu</code>
The RaspiBlitz menu has a reboot option if you scroll down. Select it and reboot.</p>
<p><img decoding="async" loading="lazy" alt="Raspi-config menu" src="/assets/images/vnc-reboot-from-menu-d590fbaa45e18bf8c77b9bdcaabe7350.png" width="545" height="286" class="img_ev3q"></p>
<p>After the RaspiBlitz is rebooted, set a password for the VNC Server:
<code>sudo vncpasswd -service</code></p>
<p>Set the Authentication parameter:
<code>sudo echo &quot;Authentication=VncAuth&quot; &gt; /etc/vnc/config.d/common.custom</code></p>
<p>Restart the VNC Server for settings to take effect:
<code>sudo systemctl restart vncserver-x11-serviced</code></p>
<p>Open the relevant port in the firewall (ufw):
<code>sudo ufw allow vnc</code></p>
<p>Start the VNC server from the RaspiBlitz:
<code>vncserver</code>
This will run by default in the display number &#x27;1&#x27;. If you want to specify another number, run this (change <em>&lt;display-number&gt;</em> to whatever you prefer):
<code>vncserver :&lt;display-number&gt;</code></p>
<p><img decoding="async" loading="lazy" alt="VNC server started" src="/assets/images/vnc-server-started-ec9ff6f9e2742be9285d332feb11de80.png" width="659" height="406" class="img_ev3q"></p>
<p>From the VNC client (e.g. your PC, laptop), connect to the IP that the previous command has displayed in the screen (I covered it in pink in the screenshot). If everything is alright, you can see the display from the VNC client now.</p>
<p>In order to stop broadcasting your display, stop the server from the RaspiBlitz with this:
<code>vncserver -kill :&lt;display-number&gt;</code></p>
<p>For example:
<code>vncserver -kill :1</code></p>
<p><strong>Note</strong>: You may have to set the resolution through raspi-config in certain situations:
<code>sudo raspi-config</code>
<em>Advanced Options &gt; Resolution</em></p>
<p><strong>Hint</strong>: From macOS, there is a built in VNC client hidden away at: /System/Library/CoreServices/Applications/Screen\ Sharing.app</p>
<p><strong>Hint 2</strong>: Find more info about VNC in Raspberry <a href="https://www.raspberrypi.org/documentation/remote-access/vnc/" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-use-btrfs-on-raspiblitz">Why use BTRFS on RaspiBlitz?<a href="#why-use-btrfs-on-raspiblitz" class="hash-link" aria-label="Direct link to Why use BTRFS on RaspiBlitz?" title="Direct link to Why use BTRFS on RaspiBlitz?">​</a></h3>
<p>The file system <a href="https://de.wikipedia.org/wiki/Btrfs" target="_blank" rel="noopener noreferrer">BTRFS</a> for your HDD/SSD provides two new features to make the data storage more resilient:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="storing-your-important-data-in-raid1-with-a-usb-thumb-drive">Storing your important Data in RAID1 with a USB Thumb Drive<a href="#storing-your-important-data-in-raid1-with-a-usb-thumb-drive" class="hash-link" aria-label="Direct link to Storing your important Data in RAID1 with a USB Thumb Drive" title="Direct link to Storing your important Data in RAID1 with a USB Thumb Drive">​</a></h4>
<p>BTRFS comes with build in RAID features - that means that data can be stored on two physical drives at the same time and if one is failing the other one can be used to heal the other one or its replacement.</p>
<p>For the RaspiBlitz this means that you can connect an additional 32GB USB3 Thumb Drive (under 10 USD) and have it running in a RAID with your HDD/SSD - keeping your LND channel data and all other important data of your RaspiBlitz double-safe.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="snapshotting-the-blockchain">Snapshotting the Blockchain<a href="#snapshotting-the-blockchain" class="hash-link" aria-label="Direct link to Snapshotting the Blockchain" title="Direct link to Snapshotting the Blockchain">​</a></h4>
<p>BTRFS comes with a build in snapshot feature - that means that your RaspiBlitz can make every day a backup of the blockchain data and if a blockchain corruption occurs (example thru a power outage) there is no need to sync the complete chain again. Just switch back to the last backup state and quickly sync up from there. On BTRFS such backups can be done as snapshots that dont need much more space on the drive and are quickly done - no need to buy a bigger SSD or wait for copying over 200GB.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-do-i-use-btrfs-on-raspiblitz">How do I use BTRFS on RaspiBlitz?<a href="#how-do-i-use-btrfs-on-raspiblitz" class="hash-link" aria-label="Direct link to How do I use BTRFS on RaspiBlitz?" title="Direct link to How do I use BTRFS on RaspiBlitz?">​</a></h4>
<p>Because the BTRFS is still experimental it&#x27;s a bit hidden. There are two ways to activate:</p>
<ul>
<li>
<p>When you start a fresh setup just connect a 32GB Thumb Drive on the second USB3 port from the beginning and you should be asked during HDD setup if you want to try out BTRFS and gave the Thumb Drive as RAID1.</p>
</li>
<li>
<p>If you have a existing RaspiBlitz and you want to switch to BTRFS then you need to export a Migration File (MAINMENU &gt; REPAIR &gt; MIGRATION) an then format your HDD/SSD clean. When you import a Migration File during a fresh Setup (see above) you will get the option to format the HDD/SSD with BTRFS.</p>
</li>
</ul>
<p>Once the Blitz is running on BTRFS you can use the &#x27;/home/admin/config.scripts/blitz.datadrive.sh&#x27; script to add a RAID drive or make a snapshot.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-recover-a-btrfs-partition">How to recover a BTRFS partition?<a href="#how-to-recover-a-btrfs-partition" class="hash-link" aria-label="Direct link to How to recover a BTRFS partition?" title="Direct link to How to recover a BTRFS partition?">​</a></h4>
<p>This articles goes thru the usual options:
<a href="https://ownyourbits.com/2019/03/03/how-to-recover-a-btrfs-partition/" target="_blank" rel="noopener noreferrer">https://ownyourbits.com/2019/03/03/how-to-recover-a-btrfs-partition/</a>
<a href="https://seravo.fi/2015/using-raid-btrfs-recovering-broken-disks" target="_blank" rel="noopener noreferrer">https://seravo.fi/2015/using-raid-btrfs-recovering-broken-disks</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-setup-raspberrypi4-with-heatsink-case">How to setup RaspberryPi4 with Heatsink Case<a href="#how-to-setup-raspberrypi4-with-heatsink-case" class="hash-link" aria-label="Direct link to How to setup RaspberryPi4 with Heatsink Case" title="Direct link to How to setup RaspberryPi4 with Heatsink Case">​</a></h3>
<ol>
<li>Put screw mounts on the SSD shield.</li>
<li>Prepare screws for mounting the Raspberry PI and corresponding heat sink.</li>
<li>Apply thermal pads.</li>
<li>Attach the heat sink and raspberry pi.</li>
<li>Attach the foot that will later hold things in place.</li>
<li>Make sure you use the right pins when mounting the display.</li>
<li>Fasten the SSD so that it doesn&#x27;t shake.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="MetalCasePart1" src="/assets/images/part1_with_numbers-1002b543349f44ba7be5fa6fe84146e4.jpg" width="754" height="851" class="img_ev3q"></p>
<ol start="8">
<li>Open the SD card slot.</li>
<li>Attach everything to the case.</li>
<li>Close the case.</li>
<li>Connect the SSD with the raspberry pi.</li>
<li>Insert the flashed SD card.</li>
<li>Remember to use a tamper evident bag before entrusting a third party
with physical access to the device.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="MetalCasePart2" src="/assets/images/part_2_with_numbers-51bda3550871fcd318e2290c2efcaaa2.jpg" width="794" height="848" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-setup-raspberrypi4-with-metal-case">How to setup RaspberryPi4 with Metal Case<a href="#how-to-setup-raspberrypi4-with-metal-case" class="hash-link" aria-label="Direct link to How to setup RaspberryPi4 with Metal Case" title="Direct link to How to setup RaspberryPi4 with Metal Case">​</a></h3>
<ol>
<li>Apply thermal pads.</li>
<li>Close the case.</li>
<li>Make sure you use the right pins when mounting the display.</li>
<li>Connect the SSD with the raspberry pi.</li>
<li>Plug your device into power and give it internet access to check if
everything is working as expected.</li>
</ol>
<p><img decoding="async" loading="lazy" alt="HeatsinkCaseAssembly" src="/assets/images/heatsink_case_assembly-c7c7ebd70c4590dd2721b879036ff1b0.jpg" width="653" height="808" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-i-sell-raspiblitz-hardware-and-pay-you">Can I sell RaspiBlitz hardware and pay you?**<a href="#can-i-sell-raspiblitz-hardware-and-pay-you" class="hash-link" aria-label="Direct link to Can I sell RaspiBlitz hardware and pay you?**" title="Direct link to Can I sell RaspiBlitz hardware and pay you?**">​</a></h3>
<p>Yes, you are free to sell hardware running RaspiBlitz software as it is released under the MIT License, which permits commercial use. Please note that as an independent commercial seller, you are not representing the RaspiBlitz developer team. Just make sure your customers don’t get confused about this distinction in your advertising. While we don&#x27;t enter into formal partnerships or contracts, we appreciate voluntary donations. Donations can be made through our donation page: raspiblitz.org/#donation. Contributions motivate us and often lead to us mentioning supportive shops in our documentation, following the &quot;Value for Value&quot; principle—those who add value to the project are recognized in kind. If you inform us about your contribution and your shop, we&#x27;re also happy to mention or retweet about your initiative to support community engagement.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/fusion44/raspiblitz/tree/main/docs/docs/faq/faq.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/faq/dev"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">dev</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#upgrade" class="table-of-contents__link toc-highlight">Upgrade</a><ul><li><a href="#how-to-verify-the-sd-card-image-after-download" class="table-of-contents__link toc-highlight">How to verify the SD card image after download?</a></li><li><a href="#what-changed-on-every-upgrade" class="table-of-contents__link toc-highlight">What changed on every upgrade?</a></li><li><a href="#how-do-i-upgrade-my-raspiblitz" class="table-of-contents__link toc-highlight">How do I upgrade my RaspiBlitz?</a></li><li><a href="#why-do-i-need-to-re-burn-my-sd-card-for-an-update" class="table-of-contents__link toc-highlight">Why do I need to re-burn my SD card for an update?</a></li><li><a href="#how-can-i-update-lnd-or-bitcoind-even-before-the-next-raspiblitz-update" class="table-of-contents__link toc-highlight">How can I update LND or Bitcoind even before the next RaspiBlitz update?</a></li></ul></li><li><a href="#ssh" class="table-of-contents__link toc-highlight">SSH</a><ul><li><a href="#what-to-do-when-on-ssh-i-see-warning-remote-host-identification-has-changed" class="table-of-contents__link toc-highlight">What to do when on SSH I see &quot;WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!&quot;</a></li><li><a href="#how-do-i-unplugshutdown-safely-without-ssh" class="table-of-contents__link toc-highlight">How do I unplug/shutdown safely without SSH</a></li><li><a href="#i-cannot-connect-via-ssh-to-my-raspiblitz-what-do-i-do" class="table-of-contents__link toc-highlight">I cannot connect via SSH to my RaspiBlitz. What do I do?</a></li><li><a href="#how-to-ssh-over-tor" class="table-of-contents__link toc-highlight">How to SSH over Tor?</a></li><li><a href="#how-to-setup-port-forwarding-with-a-ssh-tunnel" class="table-of-contents__link toc-highlight">How to setup port-forwarding with a SSH tunnel?</a></li><li><a href="#how-do-i-setup-just-a-port-forwarding-user-on-my-public-server" class="table-of-contents__link toc-highlight">How do I setup just a port-forwarding user on my public server?</a></li><li><a href="#how-to-reset-the-ssh-config-and-keys" class="table-of-contents__link toc-highlight">How to reset the ssh config and keys?</a></li></ul></li><li><a href="#display" class="table-of-contents__link toc-highlight">Display</a><ul><li><a href="#can-i-flip-the-screen" class="table-of-contents__link toc-highlight">Can I flip the screen?</a></li><li><a href="#how-to-fix-my-upside-down-lcd-after-update" class="table-of-contents__link toc-highlight">How to fix my upside down LCD after update?</a></li><li><a href="#can-i-run-the-raspiblitz-without-a-displaylcd" class="table-of-contents__link toc-highlight">Can I run the RaspiBlitz without a display/LCD?</a></li><li><a href="#how-do-i-find-the-ip-address-when-running-without-a-display" class="table-of-contents__link toc-highlight">How do I find the IP address when running without a display?</a></li></ul></li><li><a href="#debug" class="table-of-contents__link toc-highlight">Debug</a><ul><li><a href="#how-do-i-generate-a-debug-report" class="table-of-contents__link toc-highlight">How do I generate a Debug Report?</a></li><li><a href="#i-have-the-full-blockchain-on-another-storage-how-do-i-copy-it-to-the-raspiblitz" class="table-of-contents__link toc-highlight">I have the full blockchain on another storage. How do I copy it to the RaspiBlitz?</a></li><li><a href="#bitcoind-tells-me-to-reindex---how-can-i-do-this" class="table-of-contents__link toc-highlight">Bitcoind tells me to reindex - how can I do this?</a></li><li><a href="#why-is-my-final-sync-taking-so-long" class="table-of-contents__link toc-highlight">Why is my &quot;final sync&quot; taking so long?</a></li><li><a href="#how-do-i-backup-my-lightning-node" class="table-of-contents__link toc-highlight">How do I backup my Lightning Node?</a></li><li><a href="#how-can-i-recover-my-coins-from-a-failing-raspiblitz" class="table-of-contents__link toc-highlight">How can I recover my coins from a failing RaspiBlitz?</a></li><li><a href="#how-can-i-use-blixt-wallet-to-rescue-lnd-funds-with-seed-words-and-a-static-channel-backup-scb" class="table-of-contents__link toc-highlight">How Can I Use Blixt Wallet to Rescue LND Funds with Seed Words and a Static Channel Backup (SCB)?</a></li><li><a href="#how-do-i-change-the-namealias-of-my-lightning-node" class="table-of-contents__link toc-highlight">How do I change the Name/Alias of my lightning node?</a></li><li><a href="#how-do-i-change-the-public-port-lndlightning-node-is-running-on" class="table-of-contents__link toc-highlight">How do I change the public port LND/Lightning node is running on?</a></li><li><a href="#how-do-i-solve-a-signature-mismatch-after-caveat-verification-error" class="table-of-contents__link toc-highlight">How do I solve a &quot;signature mismatch after caveat verification&quot; error?</a></li><li><a href="#why-is-my-node-not-routing" class="table-of-contents__link toc-highlight">Why is my node not routing?</a></li><li><a href="#when-using-auto-unlock-how-much-security-do-i-lose" class="table-of-contents__link toc-highlight">When using Auto-Unlock, how much security do I lose?</a></li><li><a href="#i-connected-my-hdd-but-it-still-says-connect-hdd-on-the-display" class="table-of-contents__link toc-highlight">I connected my HDD but it still says &#39;Connect HDD&#39; on the display?</a></li><li><a href="#how-do-i-shrink-the-qr-code-for-connecting-my-shangozapzeus-mobile-phone" class="table-of-contents__link toc-highlight">How do I shrink the QR code for connecting my Shango/Zap/Zeus mobile phone?</a></li><li><a href="#why-is-my-bitcoin-ip-on-the-display-red" class="table-of-contents__link toc-highlight">Why is my bitcoin IP on the display red?</a></li><li><a href="#why-is-my-node-address-on-the-display-red" class="table-of-contents__link toc-highlight">Why is my node address on the display red?</a></li><li><a href="#why-is-my-node-address-on-the-display-yellow-not-green" class="table-of-contents__link toc-highlight">Why is my node address on the display yellow (not green)?</a></li><li><a href="#how-can-i-set-a-fixed-ip" class="table-of-contents__link toc-highlight">How can I set a fixed IP?</a></li><li><a href="#how-do-i-fix-a-displayed-error-in-my-config" class="table-of-contents__link toc-highlight">How do I fix a displayed Error in my Config?</a></li><li><a href="#can-i-run-the-raspiblitz-as-backend-for-btcpayserver" class="table-of-contents__link toc-highlight">Can I run the RaspiBlitz as Backend for BTCPayServer?</a></li><li><a href="#i-dont-have-a-lan-port-on-my-laptop---how-do-i-connect-to-my-raspiblitz" class="table-of-contents__link toc-highlight">I don&#39;t have a LAN port on my Laptop - how do I connect to my RaspiBlitz?</a></li><li><a href="#is-it-possible-to-connect-the-blitz-over-wifi-instead-of-using-a-lan-cable" class="table-of-contents__link toc-highlight">Is it possible to connect the Blitz over Wifi instead of using a LAN cable?</a></li><li><a href="#can-i-directly-connect-the-raspiblitz-to-my-laptop" class="table-of-contents__link toc-highlight">Can I directly connect the RaspiBlitz to my laptop?</a></li><li><a href="#how-do-i-return-to-the-menu-after-exiting-to-the-command-line" class="table-of-contents__link toc-highlight">How do I return to the menu after exiting to the command line</a></li><li><a href="#how-do-i-setup-freshcleanreset-and-without-going-into-recovery-mode" class="table-of-contents__link toc-highlight">How do I setup fresh/clean/reset and without going into recovery mode?</a></li><li><a href="#my-blockchain-data-is-corrupted---what-can-i-do" class="table-of-contents__link toc-highlight">My blockchain data is corrupted - what can I do?</a></li><li><a href="#i-have-two-raspiblitz-in-my-network---can-they-both-be-public" class="table-of-contents__link toc-highlight">I have two RaspiBlitz in my network - can they both be public?</a></li><li><a href="#how-can-i-enforce-uasp-mode-for-my-ssd-controller" class="table-of-contents__link toc-highlight">How can I enforce UASP mode for my SSD controller?</a></li><li><a href="#i-am-facing-maintenanceemergency-mode-on-boot-how-do-i-fix-it" class="table-of-contents__link toc-highlight">I am facing maintenance/emergency mode on boot. How do I fix it?</a></li></ul></li><li><a href="#extras" class="table-of-contents__link toc-highlight">Extras</a><ul><li><a href="#how-do-i-connect-a-ups-to-the-raspiblitz" class="table-of-contents__link toc-highlight">How do I connect a UPS to the RaspiBlitz?</a></li><li><a href="#can-i-run-my-raspiblitz-on-solar-energy" class="table-of-contents__link toc-highlight">Can I run my RaspiBlitz on Solar Energy?</a></li><li><a href="#how-to-use-the-lets-encrypt-client" class="table-of-contents__link toc-highlight">How to use the Let&#39;s Encrypt client</a></li><li><a href="#what-is-this-mnemonic-seed-word-list" class="table-of-contents__link toc-highlight">What is this mnemonic seed word list?</a></li><li><a href="#how-do-i-set-up-vnc" class="table-of-contents__link toc-highlight">How do I set up VNC?</a></li><li><a href="#why-use-btrfs-on-raspiblitz" class="table-of-contents__link toc-highlight">Why use BTRFS on RaspiBlitz?</a></li><li><a href="#how-to-setup-raspberrypi4-with-heatsink-case" class="table-of-contents__link toc-highlight">How to setup RaspberryPi4 with Heatsink Case</a></li><li><a href="#how-to-setup-raspberrypi4-with-metal-case" class="table-of-contents__link toc-highlight">How to setup RaspberryPi4 with Metal Case</a></li><li><a href="#can-i-sell-raspiblitz-hardware-and-pay-you" class="table-of-contents__link toc-highlight">Can I sell RaspiBlitz hardware and pay you?**</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 RaspiBlitz open source project. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>